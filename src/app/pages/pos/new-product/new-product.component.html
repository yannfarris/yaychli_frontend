<div class="modal-container d-flex justify-content-between flex-column mh-700px">

    <div class="modal-header justify-content-end border-bottom-0 pb-2">
        <div (click)="closeModal()" class="btn btn-icon btn-sm btn-active-light-primary ms-2" aria-label="Close">
            <span [inlineSVG]="'assets/media/icons/duotune/arrows/arr061.svg'" class="svg-icon svg-icon-2x"></span>
        </div>
    </div>

    <div class="modal-body h-100 scroll-y pt-2">



        <div class="mb-6 text-center">
            <h1 *ngIf="!isUpdate" class="mb-3">{{ 'pos.new_title' | translate }}</h1>
            <h1 *ngIf="isUpdate" class="mb-3">{{ 'pos.update_prod' | translate }}</h1>

            <div *ngIf="!isUpdate" class="text-muted fw-bold fs-5 text-gray-700">
                <span>{{ 'pos.fill' | translate }}</span>
            </div>

        </div>

        <form [dir]="isRtl ? 'rtl' : 'ltr'" [formGroup]="form" class="">

            <!-- form field -->

            <div class="field-group d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
                <!--begin::Label-->
                <label for="barcode" class="d-flex align-items-center fs-6 fw-bold mb-2">
                    <span class="required fw-bolder">{{ 'pos.barcode' | translate }}</span>
                </label>
                <!--end::Label-->

                <mat-form-field appearance="fill" class=" w-100">

                    <input class="py-2" maxlength="140" placeholder="{{'general.fill_data_here' | translate}}"
                        formControlName="barcode" id="barcode" type="text" (keydown.enter)="$event.preventDefault();"
                        (keydown.shift.enter)="$event.preventDefault();" matInput>
                    <mat-error class=" fs-6"
                        *ngIf="form.get('barcode')?.hasError('required') && form.get('barcode')?.touched">{{
                        'general.this_field_required' | translate }}</mat-error>

                </mat-form-field>

            </div>
            <div class="field-group d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
                <!--begin::Label-->
                <label for="name" class="d-flex align-items-center fs-6 fw-bold mb-2">
                    <span class="required fw-bolder">{{ 'general.name' | translate }}</span>
                </label>
                <!--end::Label-->

                <mat-form-field appearance="fill" class=" w-100">

                    <input class="py-2" maxlength="140" placeholder="{{'general.fill_data_here' | translate}}"
                        formControlName="name" id="name" type="text" (keydown.enter)="$event.preventDefault();"
                        (keydown.shift.enter)="$event.preventDefault();" matInput>
                    <mat-error class=" fs-6"
                        *ngIf="form.get('name')?.hasError('required') && form.get('name')?.touched">{{
                        'general.this_field_required' | translate }}</mat-error>

                </mat-form-field>

            </div>
            <div class="field-group d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
                <!--begin::Label-->
                <label for="price" class="d-flex align-items-center fs-6 fw-bold mb-2">
                    <span class="required fw-bolder">{{ 'pos.price' | translate }} - <span class = " text-uppercase">{{ (auth.currentUserSubject | async).school.currency }}</span></span>
                </label>
                <!--end::Label-->

                <mat-form-field appearance="fill" class=" w-100">

                    <input class="py-2" maxlength="140" placeholder="{{'general.fill_data_here' | translate}}"
                        formControlName="price" id="price" type="number" (keydown.enter)="$event.preventDefault();"
                        (keydown.shift.enter)="$event.preventDefault();" matInput>
                    <mat-error class=" fs-6"
                        *ngIf="form.get('price')?.hasError('required') && form.get('price')?.touched">{{
                        'general.this_field_required' | translate }}</mat-error>

                </mat-form-field>

            </div>
            
            <div class="field-group d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
                <!--begin::Label-->
                <label for="note" class="d-flex align-items-center fs-6 fw-bold mb-2">
                    <span class="fw-bolder">{{ 'general.note' | translate }}</span>
                </label>
                <!--end::Label-->

                <mat-form-field appearance="fill">
                    <textarea cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="5"
                        cdkAutosizeMaxRows="15" (keydown.shift.enter)="$event.preventDefault();" formControlName="note"
                        id="note" matInput placeholder="{{'general.fill_data_here' | translate}}"></textarea>
                </mat-form-field>

            </div>

        
        </form>



    </div>

    <div class="modal-footer justify-content-center border-top-0">

        <div class="text-center">
            <button matRipple class="btn btn-light me-3" (click)="closeModal()">{{ 'general.cancel' | translate
                }}</button>

            <button *ngIf="!isUpdate" matRipple [disabled]="!form.valid || (settings.isLoading | async).state === 'on'" (click)="save()"
                class="btn btn-primary fw-bolder">
                <span *ngIf="(settings.isLoading | async).state === 'on'"
                    class="spinner-border spinner-border-sm align-middle mx-3"></span>

                <span class="indicator-label">{{ 'general.submit' | translate }}</span>
            </button>

            <button *ngIf="isUpdate" matRipple [disabled]="!form.valid || (settings.isLoading | async).state === 'on'" (click)="save()"
                class="btn btn-primary fw-bolder">
                <span *ngIf="(settings.isLoading | async).state === 'on'"
                    class="spinner-border spinner-border-sm align-middle mx-3"></span>

                <span class="indicator-label">{{ 'general.update' | translate }}</span>
            </button>

        </div>
    </div>

</div>